<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>임대료 계산기</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700&display=swap');
body { font-family: 'Nanum Gothic', sans-serif; padding: 20px; }
.container { max-width: 420px; margin: auto; padding: 20px; border: 1px solid #ddd; border-radius: 10px; }
h2 { color: #2b7a2b; font-weight: bold; text-align: center; }
label { font-weight: bold; margin-top: 10px; display: block; }
select, input { width: 100%; padding: 8px; margin-top: 5px; }
#calculateBtn { background-color: #2b7a2b; color: white; padding: 10px; border: none; width: 100%; margin-top: 20px; border-radius: 5px; cursor: pointer; }
#calculateBtn:hover { background-color: #256623; }
#result { margin-top: 20px; font-size: 1.2em; font-weight: bold; }
input[type=number] { -moz-appearance: textfield; }
input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
</style>
</head>
<body>
<div class="container">
<h2>임대료 계산하기</h2>

<label>계약 방식</label>
<select id="contractType">
  <option value="jeonse">전세</option>
  <option value="monthly">보증부 월세</option>
</select>

<label>보증금 (보증금 한도액 최대 325,000,000원)</label>
<input type="number" id="deposit" />

<label>지원 비율</label>
<select id="supportRate">
  <option value="0.95">95%</option>
  <option value="0.98">98%</option>
</select>

<label>연이율</label>
<select id="interestRate">
  <option value="0.01">1% (4천만 이하)</option>
  <option value="0.015">1.5% (4천만 초과 6천만 이하)</option>
  <option value="0.02">2% (6천만 초과)</option>
</select>

<div id="monthlyBox" style="display:none">
  <label>월세 (최대 600,000원)</label>
  <input type="number" id="monthlyRent" />
  <span style="color:red; font-size:0.9em;">월세는 지원하지 않음</span>
</div>

<button id="calculateBtn">계산하기</button>
<div id="result"></div>
</div>

<script>
const contractType = document.getElementById("contractType");
const monthlyBox = document.getElementById("monthlyBox");

contractType.addEventListener("change", function() {
  monthlyBox.style.display = this.value === "monthly" ? "block" : "none";
});

document.getElementById("calculateBtn").addEventListener("click", function() {
  let deposit = Number(document.getElementById("deposit").value);
  let rate = Number(document.getElementById("interestRate").value);
  let support = Number(document.getElementById("supportRate").value);
  let contract = contractType.value;
  let totalDeposit = deposit;

  if (contract === "monthly") {
    let monthly = Number(document.getElementById("monthlyRent").value);
    let converted = monthly / 0.04;
    totalDeposit += converted;
  }

  if (totalDeposit > 325000000) {
    document.getElementById("result").innerText = "보증금 한도액 초과";
    return;
  }

  let monthlyRent = (deposit * support * rate) / 12;
  document.getElementById("result").innerText = "월 임대료: " + Math.round(monthlyRent).toLocaleString() + "원";
});
</script>
</body>
</html>